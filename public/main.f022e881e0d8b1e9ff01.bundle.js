webpackJsonp([1],{0:function(e,t,n){e.exports=n("cDNt")},"0aAO":function(e,t,n){"use strict";var r=n("/oeL");n.d(t,"a",function(){return i});var o=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=function(){function e(){}return e.prototype.ngOnInit=function(){},e}();i=o([n.i(r.Component)({selector:"app-dashboard",template:n("HdoV"),styles:[n("cnme")]}),a("design:paramtypes",[])],i)},"2Y2B":function(e,t,n){"use strict";var r=n("/oeL"),o=n("aZFh"),a=n("BkNc");n.d(t,"a",function(){return c});var i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t){this.authService=e,this.router=t}return e.prototype.ngOnInit=function(){var e=this;this.authService.getProfile().subscribe(function(t){e.user=t.user},function(e){return console.log(e),!1})},e}();c=i([n.i(r.Component)({selector:"app-profile",template:n("9yv/"),styles:[n("d8OR")]}),s("design:paramtypes",["function"==typeof(u=void 0!==o.a&&o.a)&&u||Object,"function"==typeof(l=void 0!==a.b&&a.b)&&l||Object])],c);var u,l},"4uzM":function(e,t){e.exports='<h2 class="page-header">Login</h2>\r\n<form (submit)="onLoginSubmit()">\r\n  <div class="form-group">\r\n    <label>Username</label>\r\n    <input type="text" class="form-control" [(ngModel)]="username" name="username">\r\n  </div>\r\n  <div class="form-group">\r\n    <label>Password</label>\r\n    <input type="password" class="form-control" [(ngModel)]="password" name="password">\r\n  </div>\r\n  <input type="submit" class="btn btn-primary" value="Submit">\r\n</form>'},"9yv/":function(e,t){e.exports='<div *ngIf="user">\r\n  <h2 class="page-header">{{user.name}}</h2>\r\n  <ul class="list-group">\r\n    <li class="list-group-item">Username: {{user.username}}</li>\r\n    <li class="list-group-item">Email: {{user.email}}</li>\r\n  </ul>\r\n</div>'},DN4o:function(e,t,n){"use strict";var r=n("/oeL");n.d(t,"a",function(){return i});var o=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=function(){function e(){}return e.prototype.validateRegister=function(e){return void 0!=e.name&&void 0!=e.username&&void 0!=e.email&&void 0!=e.password},e.prototype.validateEmail=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},e}();i=o([n.i(r.Injectable)(),a("design:paramtypes",[])],i)},HdoV:function(e,t){e.exports='<h2 class="page-header">Dashboard</h2>\r\n<p>Welcome to your dashboard</p>'},MBay:function(e,t){e.exports='<nav class="navbar navbar-default">\r\n  <div class="container">\r\n    <div class="navbar-header">\r\n      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">\r\n        <span class="sr-only">Toggle navigation</span>\r\n        <span class="icon-bar"></span>\r\n        <span class="icon-bar"></span>\r\n        <span class="icon-bar"></span>\r\n      </button>\r\n      <a class="navbar-brand" href="#">MEAN Messenger App</a>\r\n    </div>\r\n    <div id="navbar" class="collapse navbar-collapse">\r\n      <ul class="nav navbar-nav navbar-left">\r\n        <li [routerLinkActive]="[\'active\']" [routerLinkActiveOptions]="{exact:true}"><a [routerLink]="[\'/\']">Home</a></li>\r\n      </ul>\r\n      \r\n      <ul class="nav navbar-nav navbar-right">\r\n        <li *ngIf="authService.loggedIn()" [routerLinkActive]="[\'active\']" [routerLinkActiveOptions] = "{exact:true}"><a [routerLink]="[\'/dashboard\']">Dashboard</a></li>\r\n        <li *ngIf="authService.loggedIn()" [routerLinkActive]="[\'active\']" [routerLinkActiveOptions] = "{exact:true}"><a [routerLink]="[\'/profile\']">Profile</a></li>\r\n\r\n        <li *ngIf="!authService.loggedIn()" [routerLinkActive]="[\'active\']" [routerLinkActiveOptions] = "{exact:true}"><a [routerLink]="[\'/login\']">Login</a></li>\r\n        <li *ngIf="!authService.loggedIn()" [routerLinkActive]="[\'active\']" [routerLinkActiveOptions] = "{exact:true}"><a [routerLink]="[\'/register\']">Register</a></li>\r\n        <li *ngIf="authService.loggedIn()"><a (click)="onLogoutClick()" href="#">Logout</a></li>\r\n        \r\n        \r\n      </ul>\r\n    </div>\x3c!--/.nav-collapse --\x3e\r\n  </div>\r\n</nav>'},PV6a:function(e,t,n){"use strict";var r=n("/oeL"),o=n("aZFh"),a=n("BkNc"),i=n("AJJj");n.n(i);n.d(t,"a",function(){return u});var s=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t,n){this.authService=e,this.router=t,this.flashMessage=n}return e.prototype.ngOnInit=function(){},e.prototype.onLogoutClick=function(){return this.authService.logout(),this.flashMessage.show("You are logged out",{cssClass:"alert-success",timeout:3e3}),this.router.navigate(["/login"]),!1},e}();u=s([n.i(r.Component)({selector:"app-navbar",template:n("MBay"),styles:[n("W/D/")]}),c("design:paramtypes",["function"==typeof(l=void 0!==o.a&&o.a)&&l||Object,"function"==typeof(f=void 0!==a.b&&a.b)&&f||Object,"function"==typeof(p=void 0!==i.FlashMessagesService&&i.FlashMessagesService)&&p||Object])],u);var l,f,p},UbAT:function(e,t,n){"use strict";var r=n("/oeL"),o=n("aZFh"),a=n("BkNc"),i=n("AJJj");n.n(i);n.d(t,"a",function(){return u});var s=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t,n){this.authService=e,this.router=t,this.flashMessage=n}return e.prototype.ngOnInit=function(){},e.prototype.onLoginSubmit=function(){var e=this,t={username:this.username,password:this.password};this.authService.authenticateUser(t).subscribe(function(t){t.success?(e.authService.storeUserData(t.token,t.user),e.flashMessage.show("You are now logged in",{cssClass:"alert-success",timeout:3e3}),e.router.navigate(["dashboard"])):(e.flashMessage.show(t.msg,{cssClass:"alert-danger",timeout:5e3}),e.router.navigate(["login"]))})},e}();u=s([n.i(r.Component)({selector:"app-login",template:n("4uzM"),styles:[n("v8Xq")]}),c("design:paramtypes",["function"==typeof(l=void 0!==o.a&&o.a)&&l||Object,"function"==typeof(f=void 0!==a.b&&a.b)&&f||Object,"function"==typeof(p=void 0!==i.FlashMessagesService&&i.FlashMessagesService)&&p||Object])],u);var l,f,p},"W/D/":function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},"aR8+":function(e,t,n){"use strict";var r=n("fc+i"),o=n("/oeL"),a=n("qbdv"),i=n("wQAS"),s=n("PV6a"),c=n("ex8S"),u=n("DN4o"),l=n("aZFh"),f=n("AJJj");n.n(f);n.d(t,"a",function(){return d});var p=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},d=function(){function e(){}return e}();d=p([n.i(o.NgModule)({declarations:[i.a,s.a],imports:[r.a,a.CommonModule,c.a,f.FlashMessagesModule],providers:[u.a,l.a],bootstrap:[i.a]})],d)},aZFh:function(e,t,n){"use strict";var r=n("/oeL"),o=n("CPp0"),a=n("5v8a"),i=(n.n(a),n("W4CS")),s=(n.n(i),n("p5Ee"));n.d(t,"a",function(){return f});var c=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=s.a.apiUrl,f=function(){function e(e){this.http=e}return e.prototype.registerUser=function(e){var t=new o.Headers;return t.append("Content-Type","application/json"),this.http.post(l+"users/register",e,{headers:t}).map(function(e){return e.json()})},e.prototype.authenticateUser=function(e){var t=new o.Headers;return t.append("Content-Type","application/json"),this.http.post(l+"users/authenticate",e,{headers:t}).map(function(e){return e.json()})},e.prototype.getProfile=function(){var e=new o.Headers;return this.loadToken(),e.append("Authorization",this.authToken),e.append("Content-Type","application/json"),this.http.get(l+"users/profile",{headers:e}).map(function(e){return e.json()})},e.prototype.storeUserData=function(e,t){localStorage.setItem("id_token",e),localStorage.setItem("user",JSON.stringify(t)),this.authToken=e,this.user=t},e.prototype.loadToken=function(){var e=localStorage.getItem("id_token");this.authToken=e},e.prototype.loggedIn=function(){return n.i(i.tokenNotExpired)("id_token")},e.prototype.logout=function(){this.authToken=null,this.user=null,localStorage.clear()},e}();f=c([n.i(r.Injectable)(),u("design:paramtypes",["function"==typeof(p=void 0!==o.Http&&o.Http)&&p||Object])],f);var p},auOE:function(e,t){e.exports='<div class="jumbotron text-center">\r\n  <h1>MEAN Messenger App</h1>\r\n  <p class="lead">Welcome to MEAN Messenger</p>\r\n  <div>\r\n    <a class="btn btn-primary" [routerLink]="[\'/register\']">Register</a> <a class="btn btn-default" [routerLink]="[\'/login\']">Login</a>\r\n  </div>\r\n</div>\r\n\r\n<div class="row">\r\n  <div class="col-md-4">\r\n    <h3>Express Backend</h3>\r\n    <p>Node.js Express server using Mongoose</p>\r\n  </div>\r\n  <div class="col-md-4">\r\n    <h3>Angular cli</h3>\r\n    <p>Angular generated component and services</p>\r\n  </div>\r\n  <div class="col-md-4">\r\n    <h3>JWT Tokens</h3>\r\n    <p>Authentication using JSON web tokens</p>\r\n  </div>\r\n</div>'},cDNt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("/oeL"),o=n("Qa4U"),a=n("aR8+");n("p5Ee").a.production&&n.i(r.enableProdMode)(),n.i(o.a)().bootstrapModule(a.a)},cnme:function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},d8OR:function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},efyd:function(e,t){e.exports='<app-navbar></app-navbar> \r\n<div class="container">\r\n  <flash-messages></flash-messages>\r\n  <router-outlet></router-outlet>\r\n</div>  \r\n'},ex8S:function(e,t,n){"use strict";var r=n("/oeL"),o=n("BkNc"),a=n("qbdv"),i=n("bm2B"),s=n("CPp0"),c=n("UbAT"),u=n("tbRa"),l=n("yOJg"),f=n("0aAO"),p=n("2Y2B"),d=n("o2yy");n.d(t,"a",function(){return g});var h=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},v=[{path:"",component:l.a},{path:"register",component:u.a},{path:"login",component:c.a},{path:"dashboard",component:f.a,canActivate:[d.a]},{path:"profile",component:p.a,canActivate:[d.a]}],g=function(){function e(){}return e}();g=h([n.i(r.NgModule)({declarations:[c.a,u.a,l.a,f.a,p.a],imports:[a.CommonModule,o.a.forRoot(v),i.a,s.HttpModule],providers:[d.a],exports:[o.a]})],g)},hxJY:function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},iHxj:function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},j7C0:function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},n7du:function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="n7du"},o2yy:function(e,t,n){"use strict";var r=n("/oeL"),o=n("BkNc"),a=n("aZFh");n.d(t,"a",function(){return c});var i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t){this.authService=e,this.router=t}return e.prototype.canActivate=function(){return!!this.authService.loggedIn()||(this.router.navigate(["/login"]),!1)},e}();c=i([n.i(r.Injectable)(),s("design:paramtypes",["function"==typeof(u=void 0!==a.a&&a.a)&&u||Object,"function"==typeof(l=void 0!==o.b&&o.b)&&l||Object])],c);var u,l},p5Ee:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={production:!0,apiUrl:""}},rWB6:function(e,t){e.exports='<h2 class="page-header">Register</h2>\r\n<form (submit)="onRegisterSubmit()">\r\n  <div class="form-group">\r\n    <label>Name</label>\r\n    <input type="text" [(ngModel)]="name" name="name" class="form-control">\r\n  </div>\r\n  <div class="form-group">\r\n    <label>Username</label>\r\n    <input type="text" [(ngModel)]="username" name="username" class="form-control">\r\n  </div>\r\n  <div class="form-group">\r\n    <label>Email</label>\r\n    <input type="text" [(ngModel)]="email" name="email" class="form-control">\r\n  </div>\r\n  <div class="form-group">\r\n    <label>Password</label>\r\n    <input type="password" [(ngModel)]="password" name="password" class="form-control">\r\n  </div>\r\n  <input type="submit" class="btn btn-primary" value="Submit">\r\n</form>'},tbRa:function(e,t,n){"use strict";var r=n("/oeL"),o=n("DN4o"),a=n("aZFh"),i=n("AJJj"),s=(n.n(i),n("BkNc"));n.d(t,"a",function(){return l});var c=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t,n,r){this.validateService=e,this.authService=t,this.flashMessage=n,this.router=r}return e.prototype.ngOnInit=function(){},e.prototype.onRegisterSubmit=function(){var e=this,t={name:this.name,email:this.email,username:this.username,password:this.password};return this.validateService.validateRegister(t)?this.validateService.validateEmail(t.email)?void this.authService.registerUser(t).subscribe(function(t){t.success?(e.flashMessage.show("You are now registered and can log in",{cssClass:"alert-success",timeout:3e3}),e.router.navigate(["/login"])):(e.flashMessage.show("Something went wrong",{cssClass:"alert-danger",timeout:3e3}),e.router.navigate(["/register"]))}):(this.flashMessage.show("Please use correct email",{cssClass:"alert-danger",timeout:3e3}),!1):(this.flashMessage.show("Please fill in all fields",{cssClass:"alert-danger",timeout:3e3}),!1)},e}();l=c([n.i(r.Component)({selector:"app-register",template:n("rWB6"),styles:[n("iHxj")]}),u("design:paramtypes",["function"==typeof(f=void 0!==o.a&&o.a)&&f||Object,"function"==typeof(p=void 0!==a.a&&a.a)&&p||Object,"function"==typeof(d=void 0!==i.FlashMessagesService&&i.FlashMessagesService)&&d||Object,"function"==typeof(h=void 0!==s.b&&s.b)&&h||Object])],l);var f,p,d,h},v8Xq:function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},wQAS:function(e,t,n){"use strict";var r=n("/oeL");n.d(t,"a",function(){return a});var o=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},a=function(){function e(){}return e}();a=o([n.i(r.Component)({selector:"app-root",template:n("efyd"),styles:[n("hxJY")]})],a)},yOJg:function(e,t,n){"use strict";var r=n("/oeL");n.d(t,"a",function(){return i});var o=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=function(){function e(){}return e.prototype.ngOnInit=function(){},e}();i=o([n.i(r.Component)({selector:"app-home",template:n("auOE"),styles:[n("j7C0")]}),a("design:paramtypes",[])],i)}},[0]);